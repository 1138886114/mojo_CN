在这个阶段，你应该已经设置好了Mojo SDK并运行了"Hello world"。现在让我们来讨论一下如何编写Mojo代码。

你可能已经知道Mojo是作为Python的超集而设计的。所以如果你熟悉Python，那么很多Mojo代码看起来会很熟悉。然而，Mojo首先是为高性能系统编程而设计的，具有强类型检查、内存安全、下一代编译器技术等特性。因此，Mojo也与C++和Rust等语言有很多共同之处。

然而，我们设计Mojo是为了灵活性，所以你可以根据需要逐步采用诸如强类型检查之类的系统编程特性，Mojo不要求强制使用强类型检查。

在本页中，我们将介绍Mojo的基本语法，以便你可以快速开始编码并理解其他Mojo代码。Mojo手册中的后续部分将深入探讨这些主题，并在适当的位置提供链接。

让我们开始吧！🔥

Mojo是一种年轻的语言，仍然有许多缺失的功能。因此，Mojo目前**不适合**初学者。即使是这个基础部分，也假设了一些编程经验。然而，在整个Mojo手册中，我们尽量不假设熟悉任何特定语言。


## 函数

Mojo函数可以使用`fn`或`def`声明。

使用`fn`声明会强制进行类型检查和内存安全行为（类似Rust的风格），而`def`不允许类型声明并具有动态行为（类似Python的风格）。

例如，这个`def`函数不需要声明参数类型或返回类型：

```python
def greet(name):
    return "Hello, " + name + "!"
```

而相同的`fn`函数需要你指定参数类型和返回类型，如下所示：

```python
fn greet2(name: String) -> String:
    return "Hello, " + name + "!"
```

这两个函数的结果是相同的，但是`fn`函数提供了编译时检查，以确保函数接收和返回正确的类型。而`def`函数在运行时可能会因为接收到错误类型而失败。

目前，Mojo不支持在`.mojo`（或`.🔥`）文件中编写顶层代码，所以每个程序必须包含一个名为`main()`的函数作为入口点。你可以使用`def`或`fn`声明它：

```python
def main():
   print("Hello, world!")
```



在REPL中编写代码或在Jupyter笔记本中编写代码时，不需要`main()`函数。



有关更多详细信息，请参阅关于函数的页面。

### 值所有权和参数可变性

如果你想知道函数参数是按值传递还是按引用传递，简短的回答是：`def`函数以“按值”方式接收参数，而`fn`函数以“不可变引用”方式接收参数。

更长的简短回答是，Mojo允许你为每个参数指定是按值传递（`owned`）还是按借用传递（`borrowed`）。对于`def`函数，参数是按值传递的，这意味着函数接收参数的副本。对于`fn`函数，参数以不可变引用的形式传递，这意味着函数接收参数的引用，但不能修改它。

你可以使用`owned`和`borrowed`关键字来显式声明参数的所有权类型。例如：

```python
def foo(x: owned String):
    # 接收所有权并拥有x的副本
    # 可以修改x

fn bar(x: borrowed String):
    # 接收x的不可变引用
    # 不能修改x
```

有关更多详细信息，请参阅关于值所有权和参数可变性的页面。

### 默认参数和可变参数

Mojo支持为函数参数设置默认值，并且可以定义可变参数。

例如，下面的函数`greet`具有一个可选的默认参数`greeting`和一个可变参数`names`：

```python
def greet(greeting: String = "Hello", *names: String):
    for name in names:
        print(greeting + ", " + name + "!")
```

你可以这样调用`greet`函数：

```python
greet("Hi", "Alice", "Bob")
greet("Hey")
```

第一个调用会输出：

```
Hi, Alice!
Hi, Bob!
```

第二个调用会输出：

```
Hello!
```

有关更多详细信息，请参阅关于默认参数和可变参数的页面。

### Lambda函数

Mojo支持使用lambda函数（匿名函数）。Lambda函数是一种简洁的方式来定义小的、一次性的函数。

例如，下面的代码定义了一个简单的lambda函数，并将其赋值给变量`add`：

```python
add = |a, b| a + b
```

你可以像调用普通函数一样调用lambda函数：

```python
result = add(5, 3)
print(result)  # 输出: 8
```

有关更多详细信息，请参阅关于Lambda函数的页面。